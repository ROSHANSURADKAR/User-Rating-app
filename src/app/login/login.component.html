<h2>User Login</h2>

<form #loginForm="ngForm" (ngSubmit)="login(loginForm)" class="login-container">

  <!-- Email Field -->
  <label>Enter Email:</label>
  <input
    type="email"
    name="email"
    [(ngModel)]="credentials.email"
    placeholder="Email"
    required
    email
    #email="ngModel"
  />
  <div *ngIf="email.invalid && (email.touched || submitted)" class="error">
    <small *ngIf="email.errors?.['required']">Email is required.</small>
    <small *ngIf="email.errors?.['email']">Enter a valid email address.</small>
  </div>

  <!-- Password Field -->
  <label>Enter Password:</label>
  <input
    type="password"
    name="password"
    [(ngModel)]="credentials.password"
    placeholder="Password"
    required
    minlength="8"
    #password="ngModel"
  />
  <div *ngIf="password.invalid && (password.touched || submitted)" class="error">
    <small *ngIf="password.errors?.['required']">Password is required.</small>
    <small *ngIf="password.errors?.['minlength']">
      Password must be at least 8 characters.
    </small>
  </div>

  <!-- Global Error Message -->
  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>

  <!-- Global Success Message -->
  <div *ngIf="successMessage" class="success">
    {{ successMessage }}
  </div>

  <!-- Submit Button -->
  <button type="submit" [disabled]="loginForm.invalid">Login</button>

  <!-- Register / Forgot Password Links -->
  <p>Don't have an account? <a (click)="goToRegister()">Register here</a></p>
  <p><a routerLink="/forgot-password">Forgot Password?</a></p>

</form>
