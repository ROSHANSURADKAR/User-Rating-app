<h2>Change Password</h2>


<form (ngSubmit)="submit()" #passwordForm="ngForm">

  <!-- Current Password -->
  <label>
    Current Password:
    <input
      type="password"
      [(ngModel)]="currentPassword"
      name="currentPassword"
      required
      #currentPasswordCtrl="ngModel"
    >
  </label>
  <div class="error" *ngIf="currentPasswordCtrl.invalid && (currentPasswordCtrl.touched || passwordForm.submitted)">
    Current password is required.
  </div>
  <br><br>

  <!-- New Password -->
  <label>
    New Password:
    <input
      type="password"
      [(ngModel)]="newPassword"
      name="newPassword"
      required
      minlength="8"
      #newPasswordCtrl="ngModel"
    >
  </label>
  <div class="error" *ngIf="newPasswordCtrl.invalid && (newPasswordCtrl.touched || passwordForm.submitted)">
    <div *ngIf="newPasswordCtrl.errors?.['required']">New password is required.</div>
    <div *ngIf="newPasswordCtrl.errors?.['minlength']">Password must be at least 6 characters.</div>
  </div>
  <br><br>

  <!-- Confirm Password -->
  <label>
    Confirm Password:
    <input
      type="password"
      [(ngModel)]="confirmPassword"
      name="confirmPassword"
      required
      #confirmPasswordCtrl="ngModel"
    >
  </label>
  <div class="error" *ngIf="confirmPasswordCtrl.invalid && (confirmPasswordCtrl.touched || passwordForm.submitted)">
    Confirm password is required.
  </div>
  <div class="error" *ngIf="newPassword !== confirmPassword && passwordForm.submitted">
    Passwords do not match.
  </div>
  <br><br>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
<div *ngIf="successMessage" class="success">{{ successMessage }}</div>

  <button type="submit">Change Password</button>
</form>
